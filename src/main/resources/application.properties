#
# Copyright (C) 2023-2025 Philip Helger (www.helger.com)
# philip[at]helger[dot]com
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#         http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

global.debug=true
global.production=false
global.nostartupinfo=false

# [CHANGEME] Where to store runtime data
#global.datapath=/var/www/as4/data
global.datapath=generated/

# [CHANGEME] Use this to switch between "prod" (production) and "test" (test) 
peppol.stage=test

# [CHANGEME] Your Peppol Seat ID taken from your AP/SMP certificate
peppol.seatid=POP000000

# [CHANGEME] Use your Peppol organisation's country code
peppol.owner.countrycode=DK

# [CHANGEME] Use the Peppol SPID number (without the Pxx prefix!)
peppol.reporting.senderid=0242:000000

# Enable or disable the scheduling of Peppol Reporting create, validate, store and send to run monthly
peppol.reporting.scheduled=false

# [CHANGEME] Public endpoint of this AP
#phase4.endpoint.address=http://localhost:8080/as4

# [CHANGEME] Public URL of your SMP to check for valid inbound requests
#smp.url=http://smp.helger.com

# [CHANGEME] The mandatory value required in the "X-Token" HTTP header for the sending APIs
phase4.api.requiredtoken=<insert-token-here>

# [CHANGEME] AS4 dump directory
phase4.dump.path=${global.datapath}phase4-dumps/

# [CHANGEME] put your keystore details here
org.apache.wss4j.crypto.merlin.keystore.type=JKS
org.apache.wss4j.crypto.merlin.keystore.file=Peppol_AP_Test_2024_HACK.jks
org.apache.wss4j.crypto.merlin.keystore.password=7KDIpT9qyWod
org.apache.wss4j.crypto.merlin.keystore.alias=cert
org.apache.wss4j.crypto.merlin.keystore.private.password=7KDIpT9qyWod

# This is a default Peppol Truststore - should be refined for production
org.apache.wss4j.crypto.merlin.truststore.type=PKCS12
# All these truststores are predefined, and are part of the peppol-commons library
#   See https://github.com/phax/peppol-commons/tree/master/peppol-commons/src/main/resources/truststore
#
# For Test only use:       truststore/2025/ap-test-truststore.p12
# For Production only use: truststore/2025/ap-prod-truststore.p12
org.apache.wss4j.crypto.merlin.truststore.file=truststore/2025/ap-test-truststore.p12
org.apache.wss4j.crypto.merlin.truststore.password=peppol

# SMP Client
# This is a default Peppol Truststore - should be refined for production
smpclient.truststore.type=PKCS12
# All these truststores are predefined, and are part of the peppol-commons library
#   See https://github.com/phax/peppol-commons/tree/master/peppol-commons/src/main/resources/truststore
#
# For Test only use:       truststore/2025/smp-test-truststore.p12
# For Production only use: truststore/2025/smp-prod-truststore.p12
smpclient.truststore.path=truststore/2025/smp-test-truststore.p12
smpclient.truststore.password=peppol

# Outbound Proxy (if needed)
#http.proxy.host=
#http.proxy.port=
#http.proxy.nonProxyHosts

# [CHANGEME] SpringBoot port
server.port=8080

# SpringBoot - /actuator/shutdown
#management.endpoints.web.exposure.include=* # Philip
#management.endpoint.shutdown.enabled=true # Philip
#endpoints.shutdown.enabled=true # Philip
management.endpoints.jmx.exposure.exclude=*
management.endpoints.web.exposure.include=health

# SpringBoot - Max file size for large tests
spring.servlet.multipart.max-file-size=1000MB
spring.servlet.multipart.max-request-size=1000MB

### mySupply added config ###
peppol.createReportingItem=true
peppol.rceiver.PerformSBDHValueChecks=false

#for peppol reporting persistence
peppol.reporting.jdbc.database-type=postgresql
peppol.reporting.jdbc.driver=org.postgresql.Driver
peppol.reporting.jdbc.url=jdbc:postgresql://localhost:5432/phase4
peppol.reporting.jdbc.user=postgres
peppol.reporting.jdbc.password=Test1234
peppol.reporting.jdbc.schema=phase4_peppol_reporting
peppol.reporting.flyway.jdbc.schema-create=true

#for document persistence
peppol.documents.jdbc.url=jdbc:postgresql://localhost:5432/phase4
peppol.documents.jdbc.username=postgres
peppol.documents.jdbc.password=Test1234
peppol.documents.jdbc.driver=org.postgresql.Driver
peppol.documents.jdbc.locations=classpath:db/migrations/postgresql

spring.flyway.enabled=false

# When running behind a load balancer, this might help:
#server.forward-headers-strategy = native
#server.tomcat.remoteip.remote-ip-header = x-forwarded-for
#server.tomcat.remoteip.protocol-header = x-forwarded-proto
#server.tomcat.remoteip.port-header = x-forwarded-port
#server.tomcat.remoteip.host-header = x-forwarded-host
